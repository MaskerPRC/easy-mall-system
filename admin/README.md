# é‚®ä»¶æœåŠ¡å™¨ç®¡ç†ç«¯ (Vue+Vite)

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vite + Element Plus çš„ç°ä»£åŒ–é‚®ä»¶æœåŠ¡å™¨ç®¡ç†ç•Œé¢ï¼Œç”¨äºæ›¿ä»£åŸæœ‰çš„HTML+Vue CDNå®ç°ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: Vue 3 + Vite + Pinia + Element Plus
- ğŸ“± **å“åº”å¼è®¾è®¡**: é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ¨ **ç¾è§‚çš„UI**: åŸºäºElement Plusçš„ç°ä»£åŒ–ç•Œé¢è®¾è®¡
- ğŸ”§ **å®Œæ•´åŠŸèƒ½**: åŸŸåç®¡ç†ã€é‚®ç®±è´¦æˆ·ã€é‚®ä»¶åˆ—è¡¨ã€Webhooké…ç½®ã€ç³»ç»Ÿè®¾ç½®
- ğŸ”’ **å®‰å…¨è®¤è¯**: åŸºäºTokençš„èº«ä»½è®¤è¯
- âš¡ **é«˜æ€§èƒ½**: Viteæ„å»ºå·¥å…·ï¼Œå¼€å‘å’Œæ„å»ºé€Ÿåº¦å¿«

## åŠŸèƒ½æ¨¡å—

### 1. ä»ªè¡¨æ¿
- ç³»ç»Ÿæ¦‚è§ˆå’Œç»Ÿè®¡ä¿¡æ¯
- æœåŠ¡çŠ¶æ€ç›‘æ§
- å¿«é€Ÿæ“ä½œå…¥å£

### 2. åŸŸåç®¡ç†
- æ·»åŠ /ç¼–è¾‘/åˆ é™¤åŸŸå
- MXè®°å½•å’ŒSPFè®°å½•é…ç½®
- åŸŸåçŠ¶æ€ç®¡ç†

### 3. é‚®ç®±è´¦æˆ·ç®¡ç†
- åˆ›å»º/ç¼–è¾‘/åˆ é™¤é‚®ç®±è´¦æˆ·
- é…é¢ç®¡ç†å’Œä½¿ç”¨æƒ…å†µ
- ç®¡ç†å‘˜æƒé™æ§åˆ¶

### 4. é‚®ä»¶åˆ—è¡¨
- æŸ¥çœ‹æ‰€æœ‰é‚®ä»¶è®°å½•
- é‚®ä»¶æœç´¢å’Œç­›é€‰
- é‚®ä»¶è¯¦æƒ…æŸ¥çœ‹

### 5. Webhooké…ç½®
- åˆ›å»ºå’Œç®¡ç†Webhook
- äº‹ä»¶è§¦å‘é…ç½®
- æ‰§è¡Œæ—¥å¿—æŸ¥çœ‹

### 6. ç³»ç»Ÿè®¾ç½®
- DNSé…ç½®æŒ‡å—
- æœåŠ¡å™¨é…ç½®ä¿¡æ¯
- APIä»¤ç‰Œç®¡ç†
- ç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Vue 3 (Composition API)
- **æ„å»ºå·¥å…·**: Vite
- **UIç»„ä»¶åº“**: Element Plus
- **çŠ¶æ€ç®¡ç†**: Pinia
- **è·¯ç”±**: Vue Router 4
- **HTTPå®¢æˆ·ç«¯**: Axios
- **è¯­è¨€**: JavaScript

## å¼€å‘ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0

## å®‰è£…å’Œå¯åŠ¨

### 1. å®‰è£…ä¾èµ–

```bash
cd admin
npm install
```

### 2. å¼€å‘æ¨¡å¼å¯åŠ¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:5173 å¯åŠ¨ï¼Œå¹¶è‡ªåŠ¨ä»£ç†APIè¯·æ±‚åˆ°åç«¯æœåŠ¡å™¨ (http://localhost:3000)ã€‚

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

æ„å»ºäº§ç‰©å°†ç”Ÿæˆåœ¨ `dist` ç›®å½•ä¸­ã€‚

### 4. é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

```bash
npm run preview
```

## é¡¹ç›®ç»“æ„

```
admin/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/        # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ layouts/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ MainLayout.vue
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â”œâ”€â”€ services/         # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ auth.js
â”‚   â”œâ”€â”€ views/            # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”œâ”€â”€ Domains.vue
â”‚   â”‚   â”œâ”€â”€ Accounts.vue
â”‚   â”‚   â”œâ”€â”€ Emails.vue
â”‚   â”‚   â”œâ”€â”€ Webhooks.vue
â”‚   â”‚   â””â”€â”€ Settings.vue
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.js           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html            # HTMLæ¨¡æ¿
â”œâ”€â”€ package.json          # é¡¹ç›®é…ç½®
â”œâ”€â”€ vite.config.js        # Viteé…ç½®
â””â”€â”€ README.md            # è¯´æ˜æ–‡æ¡£
```

## é…ç½®è¯´æ˜

### Viteé…ç½® (vite.config.js)

- **ç«¯å£**: 5173 (å¼€å‘æ¨¡å¼)
- **APIä»£ç†**: `/api` ä»£ç†åˆ° `http://localhost:3000`
- **åˆ«å**: `@` æŒ‡å‘ `src` ç›®å½•
- **è‡ªåŠ¨å¯¼å…¥**: Element Plusç»„ä»¶å’ŒVue API

### è·¯ç”±é…ç½®

æ‰€æœ‰ç®¡ç†é¡µé¢éƒ½éœ€è¦è®¤è¯ï¼Œåªæœ‰ç™»å½•é¡µé¢æ— éœ€è®¤è¯ã€‚è·¯ç”±å®ˆå«ä¼šè‡ªåŠ¨å¤„ç†èº«ä»½éªŒè¯ã€‚

### APIæœåŠ¡

APIæœåŠ¡å°è£…äº†æ‰€æœ‰åç«¯æ¥å£è°ƒç”¨ï¼Œæ”¯æŒï¼š
- è‡ªåŠ¨æ·»åŠ è®¤è¯å¤´
- é”™è¯¯å¤„ç†å’Œæ¶ˆæ¯æç¤º
- 401é”™è¯¯è‡ªåŠ¨è·³è½¬ç™»å½•

## ä¸åç«¯é›†æˆ

### APIæ¥å£

ç¡®ä¿åç«¯æœåŠ¡å™¨åœ¨ `http://localhost:3000` è¿è¡Œï¼Œå¹¶æä¾›ä»¥ä¸‹APIç«¯ç‚¹ï¼š

- `GET /api/admin/stats` - è·å–ç»Ÿè®¡ä¿¡æ¯
- `GET /api/admin/domains` - è·å–åŸŸååˆ—è¡¨
- `POST /api/admin/domains` - åˆ›å»ºåŸŸå
- `PUT /api/admin/domains/:id` - æ›´æ–°åŸŸå
- `DELETE /api/admin/domains/:id` - åˆ é™¤åŸŸå
- å…¶ä»–é‚®ç®±ã€é‚®ä»¶ã€Webhookç›¸å…³æ¥å£...

### è®¤è¯æ–¹å¼

ä½¿ç”¨Bearer Tokenè®¤è¯ï¼š
```
Authorization: Bearer <admin-token>
```

## éƒ¨ç½²

### 1. æ„å»ºé¡¹ç›®

```bash
npm run build
```

### 2. éƒ¨ç½²é™æ€æ–‡ä»¶

å°† `dist` ç›®å½•ä¸­çš„æ–‡ä»¶éƒ¨ç½²åˆ°WebæœåŠ¡å™¨ï¼Œç¡®ä¿ï¼š
- é…ç½®å•é¡µåº”ç”¨è·¯ç”±æ”¯æŒ
- APIè¯·æ±‚ä»£ç†åˆ°åç«¯æœåŠ¡å™¨

### 3. Nginxé…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /path/to/admin/dist;
        try_files $uri $uri/ /index.html;
    }
    
    # APIä»£ç†
    location /api {
        proxy_pass http://localhost:3000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

## å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/views/` åˆ›å»ºæ–°çš„Vueç»„ä»¶
2. åœ¨ `src/router/index.js` æ·»åŠ è·¯ç”±é…ç½®
3. åœ¨ `src/layouts/MainLayout.vue` æ·»åŠ èœå•é¡¹

### æ·»åŠ æ–°API

1. åœ¨ `src/services/api.js` çš„ `adminApi` å¯¹è±¡ä¸­æ·»åŠ æ–°æ–¹æ³•
2. åœ¨é¡µé¢ç»„ä»¶ä¸­è°ƒç”¨ç›¸åº”çš„APIæ–¹æ³•

### çŠ¶æ€ç®¡ç†

ä½¿ç”¨Piniaè¿›è¡ŒçŠ¶æ€ç®¡ç†ï¼Œå½“å‰å·²å®ç°ï¼š
- `useAuthStore` - èº«ä»½è®¤è¯çŠ¶æ€

## æµè§ˆå™¨å…¼å®¹æ€§

- Chrome >= 87
- Firefox >= 78
- Safari >= 14
- Edge >= 88

## è®¸å¯è¯

MIT License 